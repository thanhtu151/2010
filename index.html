<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>üíñ Happy Woman's Day üíñ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --pink1:#ffc1e3; --pink2:#ffd6e8; --accent:#ff4d88; --shadow:rgba(255,0,102,.4);
    }
    *{box-sizing:border-box}
    body{
      margin:0; height:100vh; overflow:hidden;
      background:linear-gradient(135deg,var(--pink1),var(--pink2));
      display:flex; flex-direction:column; justify-content:center; align-items:center;
      font-family:"Poppins",sans-serif; position:relative;
    }
    h1{
      margin:10px 0 0; color:#fff; font-size:clamp(28px,7vw,64px);
      text-shadow:0 0 15px #ff7dc1;
      animation:glow 2s ease-in-out infinite alternate; z-index:3;
    }
    @keyframes glow {
      from { text-shadow: 0 0 10px #ff7dc1, 0 0 20px #ff7dc1; }
      to { text-shadow: 0 0 25px #ff1493, 0 0 40px #ff69b4; }
    }

    .bouquet {
      width:min(260px,50vw);
      margin-top:14px; z-index:3; cursor:pointer;
      transition:transform .25s ease; filter:drop-shadow(0 8px 16px rgba(0,0,0,.15));
    }
    .bouquet:hover{transform:scale(1.06)}

    .message-box{
      position:absolute; bottom:8%; left:50%; transform:translateX(-50%);
      display:none; flex-direction:column; align-items:center; gap:10px;
      background:rgba(255,255,255,.95); padding:22px 26px; border-radius:22px;
      box-shadow:0 8px 30px var(--shadow); z-index:4; text-align:center;
      animation:pop .35s ease;
    }
    @keyframes pop{from{transform:translateX(-50%) scale(.9);opacity:0}to{transform:translateX(-50%) scale(1);opacity:1}}
    .message-box img{
      width:120px;height:120px;object-fit:cover;border-radius:50%;
      box-shadow:0 0 12px #ffb6c1;border:4px solid #ffa0c8;
    }
    .message-box p{color:var(--accent);font-weight:700;font-size:1.05rem;}

    .falling-area{
      position:fixed;inset:0;overflow:hidden;z-index:5;pointer-events:auto;
    }
    .falling-item{
      position:absolute;top:-10%;left:50%;transform:translateX(-50%);
      font-size:clamp(18px,3.5vw,28px);
      animation:fallDown linear forwards;
      filter:drop-shadow(0 6px 10px rgba(255,105,180,.35));
      cursor:pointer;
    }
    @keyframes fallDown{
      0%{transform:translate(-50%,-10%) rotate(0deg);opacity:.95;}
      100%{transform:translate(-50%,110vh) rotate(360deg);opacity:0;}
    }
    .floating-rose{
      position:fixed;top:-10%;
      font-size:clamp(18px,3.8vw,32px);
      opacity:.25;pointer-events:none;z-index:2;
      animation:floatRose linear infinite;
    }
    @keyframes floatRose{
      0%{transform:translateY(-10%)translateX(0)rotate(0deg);}
      100%{transform:translateY(120vh)translateX(40px)rotate(360deg);}
    }

    /* Modal */
    .overlay{
      position:fixed;inset:0;background:rgba(0,0,0,.35);
      display:none;place-items:center;z-index:20;
      animation:fadeIn .2s ease;
    }
    @keyframes fadeIn{from{opacity:0}to{opacity:1}}
    .card{
      width:min(92vw,540px);background:#fff;border-radius:22px;padding:18px 20px 16px;
      box-shadow:0 20px 50px rgba(0,0,0,.25);text-align:center;position:relative;
      animation:popCard .25s ease;
    }
    @keyframes popCard{from{transform:scale(.92);opacity:0}to{transform:scale(1);opacity:1}}
    .card img{
      width:min(220px,65vw);border-radius:16px;
      box-shadow:0 10px 24px rgba(255,105,180,.35);
    }
    .card p{margin:12px 0 0;font-size:1.05rem;color:#222}
    .close-btn{
      position:absolute;top:8px;right:8px;border:none;background:#ffe3ef;color:#c2185b;
      border-radius:12px;padding:6px 10px;cursor:pointer;font-weight:700;
    }

    @keyframes floatUp {
      0%{transform:translateY(0) scale(1);opacity:1;}
      100%{transform:translateY(-140px) scale(.55);opacity:0;}
    }

    /* Music button */
    #musicBtn{
      position:fixed;bottom:20px;right:20px;z-index:9999;
      background:rgba(255,255,255,0.8);padding:10px 20px;border-radius:30px;
      cursor:pointer;box-shadow:0 0 10px rgba(255,100,150,0.5);
      font-weight:bold;color:#d63384;user-select:none;
    }

    /* Heart trail */
    .cursor-heart{
      position:fixed;pointer-events:none;
      animation:fadeMove 1s ease-out forwards;
      font-size:18px;
    }
    @keyframes fadeMove{
      0%{opacity:1;transform:translateY(0) scale(1);}
      100%{opacity:0;transform:translateY(-50px) scale(0.6);}
    }
    /* Hi·ªÉn th·ªã con tr·ªè h√¨nh m≈©i t√™n Cupid ·ªü m·ªçi n∆°i */
:root{
  --cupid-cursor:url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'>\
<path fill='%23ff4d88' d='M16 29s-9-5.9-12-11c-3-5.1 1-10 6-9 2.1.3 4 1.9 6 4 2-2.1 3.9-3.7 6-4 5-1 9 3.9 6 9-3 5.1-12 11-12 11z'/>\
<path d='M2 6l8 2-2-8' stroke='%23ff6699' stroke-width='2' fill='none'/>\
</svg>");
}

/* √Åp d·ª•ng cho m·ªçi ph·∫ßn t·ª≠ ƒë·ªÉ kh√¥ng b·ªã element con ƒë·ªïi l·∫°i m≈©i t√™n m·∫∑c ƒë·ªãnh */
html, body, * {
  cursor: var(--cupid-cursor) 2 2, auto !important;
}
/* --- FIX: cho ph√©p click xuy√™n qua l·ªõp m∆∞a, nh∆∞ng emoji v·∫´n b·∫•m ƒë∆∞·ª£c --- */
.falling-area { pointer-events: none; }   /* l·ªõp ph·ªß kh√¥ng nh·∫≠n click */
.falling-item { pointer-events: auto; }   /* ri√™ng t·ª´ng emoji v·∫´n nh·∫≠n click */
#bouquet { position: relative; z-index: 20; } /* b√≥ hoa n·ªïi l√™n ƒë·ªÉ ch·∫Øc ch·∫Øn nh·∫≠n click */
/* Icon ƒë·∫∑c bi·ªát c√≥ th√¥ng ƒëi·ªáp */
/* SPECIAL ICON: to h∆°n, glow, v·∫´n r∆°i b√¨nh th∆∞·ªùng */
.falling-item.special{
  font-size: 2.4rem !important;
  /* 1) r∆°i: d√πng fallDown (transform)  2) glow: ch·ªâ ƒë·ªïi text-shadow (kh√¥ng ƒë·ª•ng transform) */
  animation: fallDown 7s linear forwards, glowPulse 1.2s ease-in-out infinite !important;
  filter: drop-shadow(0 0 10px rgba(255, 0, 120, .6));
}

/* nh√£n g·ª£i √Ω */
.falling-item.special::after{
  content: "üíå";
  position: absolute;
  left: 50%; transform: translateX(-50%);
  top: 28px;
  font-size: 12px; color: #c2185b;
  background: rgba(255,255,255,.85);
  padding: 2px 8px; border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0,0,0,.1);
}

/* ch·ªâ ƒë·ªïi √°nh s√°ng, KH√îNG ƒë·ª•ng transform */
@keyframes glowPulse{
  0%  { text-shadow: 0 0 6px #ff78b0; }
  50% { text-shadow: 0 0 16px #ff1f8b; }
  100%{ text-shadow: 0 0 6px #ff78b0; }
}

/* Nh√£n "Nh·∫•n m√¨nh üíå" d∆∞·ªõi icon ƒë·∫∑c bi·ªát */
.falling-item.special::after{
  content: "üíå";
  position: absolute;
  left: 50%; transform: translateX(-50%);
  top: 28px;
  font-size: 12px; color: #c2185b;
  background: rgba(255,255,255,.85);
  padding: 2px 8px; border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0,0,0,.1);
}
/* Hi·ªáu ·ª©ng l·∫•p l√°nh tr√°i tim quanh b√≥ hoa */
@keyframes sparkleHeart {
  0%   { transform: scale(0.5) translateY(0); opacity: 1; }
  100% { transform: scale(1.8) translateY(-100px); opacity: 0; }
}

.sparkle-heart {
  position: absolute;
  font-size: 20px;
  color: #ff4d88;
  text-shadow: 0 0 10px rgba(255, 105, 180, 0.8);
  pointer-events: none;
  animation: sparkleHeart 1.5s ease-out forwards;
  z-index: 5;
}

/* === Responsive fix cho m√†n h√¨nh nh·ªè (d∆∞·ªõi 768px) === */
@media (max-width: 768px) {
  h1 {
    font-size: clamp(22px, 6vw, 40px);
    text-align: center;
    margin: 4px 10px;
  }
  .bouquet {
    width: 70vw;
    margin-top: 8px;
  }
  .message-box {
    width: 90%;
    padding: 16px 18px;
    bottom: 6%;
  }
  .message-box img {
    width: 90px;
    height: 90px;
  }
  .message-box p {
    font-size: 0.95rem;
  }
  .card {
    width: 90%;
    padding: 14px;
  }
  #musicBtn {
    bottom: 12px;
    right: 12px;
    padding: 8px 14px;
    font-size: 0.9rem;
  }
}

  </style>
</head>
<body>

  <div id="fallingArea" class="falling-area"></div>
  <div id="roseContainer"></div>

  <h1>üíê HAPPY WOMAN'S DAY üíê</h1>
  <img id="bouquet" class="bouquet" src="https://pngimg.com/uploads/bouquet/bouquet_PNG63.png" alt="Bouquet" />

  <div id="messageBox" class="message-box">
    <img src="https://i.pinimg.com/originals/76/f9/3d/76f93d3a2f69a3a2d07310f7b1cfe7c1.png" alt="Chibi" />
    <p id="wishText">N·∫øu ch·∫•m em tr√™n thang ƒëi·ªÉm 10 th√¨ em 20/10 üå∏üíñ</p>
  </div>

  <!-- Popup khi click emoji -->
  <div id="overlay" class="overlay" aria-hidden="true">
    <div class="card" role="dialog" aria-modal="true">
      <button class="close-btn" id="closeBtn">‚úñ</button>
      <img id="modalImg" src="" alt="cute" />
      <p id="modalText"></p>
    </div>
  </div>

  <!-- Nh·∫°c -->
  <audio id="bgMusic" loop>
    <source src="co-chac-yeu-la-day.mp3" type="audio/mpeg">
  </audio>
  <div id="musicBtn">üéµ B·∫≠t nh·∫°c</div>

  <script>
    const ICONS = ['üíñ','üå∏','üåπ','üíê','‚ú®','üíï','ü©∑','üå∑','üíû'];
    const CATALOG = {
      heart:{images:['https://thanhtu151.github.io/2010/image1.jpg','https://thanhtu151.github.io/2010/image2.jpg'],texts:['S√°ng ra ƒÉn t√¥ ch√°o l√≤ng \nCh√°o anh ƒÉn h·∫øt ch·ª´a l√≤ng y√™u em üíñ','Anh th√≠ch ch∆°i nh·∫°c \nAnh c√≥ th·ªÉ m·ªùi ba em l√†m "nh·∫°c ph·ª•" ƒë∆∞·ª£c hong üíó']},
      flower:{images:['https://thanhtu151.github.io/2010/image4.jpg','https://thanhtu151.github.io/2010/image3.jpg'],texts:['N·∫øu em l√† t∆∞ ni·ªÖn th√¨ anh s·∫Ω l√† ƒë·∫±ng t∆∞∆°ng\nƒê·∫±ng n√†y t∆∞∆°ng t∆∞ ƒë·∫±ng ·∫•yüå∑','Th·ª©c ƒë√™m anh t·ªânh b·∫±ng tr√† \nY√™u em anh tr·∫£ b·∫±ng t√¨nh ƒë∆∞·ª£c hem üåπ']},
      sparkle:{images:['https://thanhtu151.github.io/2010/image5.jpg'],texts:['Anh hay b·ªã r·ªëi lo·∫°n gi·∫•c ng·ªß \nV√¨ t·ªëi n√†o c≈©ng m·ªông you‚ú®']}
    };
    const rand=a=>a[Math.floor(Math.random()*a.length)];
    function pick(icon){if(['üíñ','üíï','üíû','ü©∑'].includes(icon))return CATALOG.heart;if(['üå∏','üåπ','üå∑','üíê'].includes(icon))return CATALOG.flower;return CATALOG.sparkle;}

    const area = document.getElementById('fallingArea');
    
    // Gi·∫£m m·∫≠t ƒë·ªô + gi·ªõi h·∫°n s·ªë icon ƒëang hi·ªÉn th·ªã
    const MAX_FALLING = 50;           // tr√°nh qu√° nhi·ªÅu
    const SPAWN_MS    = 600;          // 300 -> 600 cho th∆∞a h∆°n
    
    function openRandomModal() {
      // l·∫•y ng·∫´u nhi√™n 1 ·∫£nh + text nh∆∞ b·∫°n ƒë√£ l√†m (t·∫≠n d·ª•ng CATALOG c√≥ s·∫µn)
      const allPacks = Object.values(CATALOG);
      const pk = allPacks[Math.floor(Math.random() * allPacks.length)];
      openModal(pk.images[Math.floor(Math.random()*pk.images.length)],
                pk.texts[Math.floor(Math.random()*pk.texts.length)]);
    }
    
    function createFallingEmoji() {
      if (area.childElementCount > MAX_FALLING) return; // gi·ªõi h·∫°n
    
      const emoji = document.createElement('div');
      emoji.className = 'falling-item';
    
      // 20% l√† icon ‚Äúƒë·∫∑c bi·ªát‚Äù c√≥ th√¥ng ƒëi·ªáp
      const isSpecial = Math.random() < 0.2;
      if (isSpecial) {
        emoji.classList.add('special');
        emoji.textContent = 'üíå';               // d√πng bi·ªÉu t∆∞·ª£ng ri√™ng cho d·ªÖ nh·∫≠n
        emoji.addEventListener('click', (e) => {
          e.stopPropagation();
          openRandomModal();
        });
      } else {
        // icon th∆∞·ªùng (trang tr√≠)
        const icons = ['üíñ', 'üå∏', 'üåπ', 'üíê', '‚ú®', 'üíï', 'ü©∑', 'üå∑', 'üíû'];
        emoji.textContent = icons[Math.floor(Math.random() * icons.length)];
      }
    
      emoji.style.left = Math.random() * 100 + 'vw';
      emoji.style.animationDuration = (3 + Math.random() * 3) + 's';
      area.appendChild(emoji);
      setTimeout(() => emoji.remove(), 7000);
    }
    clearInterval(window._spawnTimer);
    window._spawnTimer = setInterval(createFallingEmoji, SPAWN_MS);


    const rose=document.getElementById('roseContainer');
    function createRose(){
      const r=document.createElement('div');
      r.className='floating-rose';
      r.textContent=rand(['üå∑','üåπ','üå∏']);
      r.style.left=Math.random()*100+'vw';
      r.style.animationDuration=(8+Math.random()*8)+'s';
      rose.appendChild(r);
      setTimeout(()=>r.remove(),17000);
    }
    setInterval(createRose,1000);

    document.getElementById('bouquet').addEventListener('click',()=>{
      const box=document.getElementById('messageBox');
      box.style.display='flex';
      const ws=["Ta nh√¨n sang ph·∫£i r·ªìi nh√¨n sang tr√°i, nh∆∞ng kh√¥ng c√≥ b√™n n√†o b·∫±ng b√™n n√†ngüíû","Em nh∆∞ m·ªôt ƒë√≥a hoa ƒë·∫πp ai c≈©ng mu·ªën ng·∫Øt v√† l·∫•y, nh∆∞ng h·ªç ch·ªâ c√≥ ƒë∆∞·ª£c hoa c√≤n anh c√≥ ƒë∆∞·ª£c emüåπ","ƒêang ƒë·ªãnh r·∫ª tr√°i th√¨ ph·∫£i l√≤ng em üíñ"];
      document.getElementById('wishText').textContent=rand(ws);
      for(let i=0;i<12;i++){
        const h=document.createElement('div');
        h.textContent='üíñ';
        h.style.position='absolute';
        h.style.left='50%';h.style.top='60%';
        h.style.fontSize=(20+Math.random()*20)+'px';
        h.style.animation=`floatUp ${2+Math.random()*2}s ease-out`;
        h.style.transform=`translateX(${Math.random()*220-110}px)`;
        document.body.appendChild(h);
        setTimeout(()=>h.remove(),3000);
      }
      // Hi·ªáu ·ª©ng tr√°i tim l·∫•p l√°nh quanh b√≥ hoa
      const rect = bouquet.getBoundingClientRect();
      for (let i = 0; i < 15; i++) {
        const heart = document.createElement('div');
        heart.className = 'sparkle-heart';
        heart.textContent = ['üíñ','üíï','üíû','ü©∑'][Math.floor(Math.random()*4)];
        heart.style.left = rect.left + rect.width/2 + (Math.random()-0.5)*160 + 'px';
        heart.style.top  = rect.top + rect.height/2 + (Math.random()-0.5)*60 + 'px';
        heart.style.fontSize = (18 + Math.random()*10) + 'px';
        document.body.appendChild(heart);
        setTimeout(()=>heart.remove(),1500);
      }

    });

    const overlay=document.getElementById('overlay');
    const mImg=document.getElementById('modalImg');
    const mText=document.getElementById('modalText');
    const close=document.getElementById('closeBtn');
    function openModal(img,text){
      mImg.src=img; mText.textContent=text;
      modalText.innerHTML = text.replace(/\n/g, "<br>");
      overlay.style.display='grid'; overlay.setAttribute('aria-hidden','false');
    }
    function closeModal(){overlay.style.display='none';overlay.setAttribute('aria-hidden','true');}
    close.addEventListener('click',closeModal);
    overlay.addEventListener('click',e=>{if(e.target===overlay)closeModal();});

    // Music button
    const music=document.getElementById('bgMusic');
    const btn=document.getElementById('musicBtn');
    let playing=false;
    btn.onclick=()=>{
      if(!playing){music.play();btn.textContent='üîä ƒêang ph√°t nh·∫°c';}
      else{music.pause();btn.textContent='üéµ B·∫≠t nh·∫°c';}
      playing=!playing;
    };

    // Heart trail follow mouse
    document.addEventListener('mousemove',e=>{
      const heart=document.createElement('div');
      heart.className='cursor-heart';
      heart.textContent='üíñ';
      heart.style.left=e.pageX+'px';
      heart.style.top=e.pageY+'px';
      document.body.appendChild(heart);
      setTimeout(()=>heart.remove(),1000);
    });
  </script>
</body>
</html>
